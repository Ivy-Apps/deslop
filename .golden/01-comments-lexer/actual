[ RawTok
    { raw =
        "/**\n * Calculates the nth Fibonacci number using an iterative approach.\n * The sequence is defined as: F(0)=0, F(1)=1, F(n) = F(n-1) + F(n-2).\n *\n * @param n - The zero-based index in the Fibonacci sequence to retrieve.\n * @returns The Fibonacci number at index n.\n * @throws {Error} If n is a negative integer.\n */\nfunction calculateFibonacci(n: number): number {\n    "
    }
, CommentTok
    { comment = " Step 1: Input Validation."
    , raw = "// Step 1: Input Validation.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " Check if the input 'n' is less than zero. The Fibonacci sequence starts at index 0."
    , raw =
        "// Check if the input 'n' is less than zero. The Fibonacci sequence starts at index 0.\n"
    }
, RawTok { raw = "\n    if (n < 0) {\n        " }
, CommentTok
    { comment =
        " If the input is negative, throw an error indicating invalid input."
    , raw =
        "// If the input is negative, throw an error indicating invalid input.\n"
    }
, RawTok
    { raw =
        "\n        throw new Error(\"Fibonacci index must be a non-negative integer.\");\n    }\n\n    "
    }
, CommentTok
    { comment = " Step 2: Handle Base Case 0."
    , raw = "// Step 2: Handle Base Case 0.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " If n is exactly 0, the result is implicitly defined as 0."
    , raw =
        "// If n is exactly 0, the result is implicitly defined as 0.\n"
    }
, RawTok { raw = "\n    if (n === 0) {\n        " }
, CommentTok
    { comment = " Return 0 and exit the function immediately."
    , raw = "// Return 0 and exit the function immediately.\n"
    }
, RawTok { raw = "\n        return 0;\n    }\n\n    " }
, CommentTok
    { comment = " Step 3: Handle Base Case 1."
    , raw = "// Step 3: Handle Base Case 1.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " If n is exactly 1, the result is implicitly defined as 1."
    , raw =
        "// If n is exactly 1, the result is implicitly defined as 1.\n"
    }
, RawTok { raw = "\n    if (n === 1) {\n        " }
, CommentTok
    { comment = " Return 1 and exit the function immediately."
    , raw = "// Return 1 and exit the function immediately.\n"
    }
, RawTok { raw = "\n        return 1;\n    }\n\n    " }
, CommentTok
    { comment = " Step 4: Initialize State Variables for Iteration."
    , raw = "// Step 4: Initialize State Variables for Iteration.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " We need to keep track of the two preceding numbers to calculate the next one."
    , raw =
        "// We need to keep track of the two preceding numbers to calculate the next one.\n"
    }
, RawTok { raw = "\n\n    " }
, CommentTok
    { comment =
        " 'prevPrev' represents F(i-2). We initialize it to F(0), which is 0."
    , raw =
        "// 'prevPrev' represents F(i-2). We initialize it to F(0), which is 0.\n"
    }
, RawTok { raw = "\n    let prevPrev: number = 0;\n\n    " }
, CommentTok
    { comment =
        " 'prev' represents F(i-1). We initialize it to F(1), which is 1."
    , raw =
        "// 'prev' represents F(i-1). We initialize it to F(1), which is 1.\n"
    }
, RawTok { raw = "\n    let prev: number = 1;\n\n    " }
, CommentTok
    { comment =
        " 'current' will store the result of F(i) during each iteration."
    , raw =
        "// 'current' will store the result of F(i) during each iteration.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " We initialize it to 1 (the value for n=1) as a starting point before the loop begins."
    , raw =
        "// We initialize it to 1 (the value for n=1) as a starting point before the loop begins.\n"
    }
, RawTok { raw = "\n    let current: number = 1;\n\n    " }
, CommentTok
    { comment = " Step 5: Begin the Iterative Loop."
    , raw = "// Step 5: Begin the Iterative Loop.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " We start the loop at index i = 2 because indexes 0 and 1 were handled by base cases."
    , raw =
        "// We start the loop at index i = 2 because indexes 0 and 1 were handled by base cases.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " The loop runs as long as 'i' is less than or equal to the target index 'n'."
    , raw =
        "// The loop runs as long as 'i' is less than or equal to the target index 'n'.\n"
    }
, RawTok { raw = "\n    for (let i = 2; i <= n; i++) {\n        " }
, CommentTok
    { comment = " Step 5a: Calculate the next Fibonacci number."
    , raw = "// Step 5a: Calculate the next Fibonacci number.\n"
    }
, RawTok { raw = "\n        " }
, CommentTok
    { comment =
        " Add the value two steps back (prevPrev) to the value one step back (prev)."
    , raw =
        "// Add the value two steps back (prevPrev) to the value one step back (prev).\n"
    }
, RawTok
    { raw = "\n        current = prevPrev + prev;\n\n        " }
, CommentTok
    { comment =
        " Step 5b: Shift variables to prepare for the next iteration cycle."
    , raw =
        "// Step 5b: Shift variables to prepare for the next iteration cycle.\n"
    }
, RawTok { raw = "\n        " }
, CommentTok
    { comment =
        " The value that was one step back becomes the value two steps back for the next turn."
    , raw =
        "// The value that was one step back becomes the value two steps back for the next turn.\n"
    }
, RawTok { raw = "\n        prevPrev = prev;\n\n        " }
, CommentTok
    { comment =
        " The value we just calculated as current becomes the value one step back for the next turn."
    , raw =
        "// The value we just calculated as current becomes the value one step back for the next turn.\n"
    }
, RawTok { raw = "\n        prev = current;\n        " }
, CommentTok
    { comment =
        " End of loop iteration. The loop counter 'i' will increment now."
    , raw =
        "// End of loop iteration. The loop counter 'i' will increment now.\n"
    }
, RawTok { raw = "\n    }\n\n    " }
, CommentTok
    { comment = " Step 6: Return Result."
    , raw = "// Step 6: Return Result.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment =
        " Once the loop has finished running until i=n, the variable 'current' holds the correct Fibonacci number."
    , raw =
        "// Once the loop has finished running until i=n, the variable 'current' holds the correct Fibonacci number.\n"
    }
, RawTok { raw = "\n    " }
, CommentTok
    { comment = " Return the final calculated value."
    , raw = "// Return the final calculated value.\n"
    }
, RawTok { raw = "\n    return current;\n}" }
]